syntax = "proto3";

package policy.v1;
option go_package="policy/v1;policy";

message AuthorizeReq {
  // 用户ID
  string user_id = 1;
  // 路径
  string path  = 2;
  // 方法
  string method = 3;
  // 资源
  string resource = 4;
}

message Response {
  bool allowed = 1;
}

service PolicyService {
  // API 鉴权
  rpc Authorize(AuthorizeReq) returns (Response);
}